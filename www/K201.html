<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta http-equiv="Content-Security-Policy" content="default-src * data: gap: content: https://ssl.gstatic.com; style-src * 'unsafe-inline'; script-src * 'unsafe-inline' 'unsafe-eval'">
    <script src="components/loader.js"></script>
    <link rel="stylesheet" href="components/loader.css">
    <link rel="stylesheet" href="css/default.css">
    <link rel="stylesheet" href="css/style.css">
    <script>
    </script>
</head>
<body>
    <div class="header-contents">
        <h1>課題201</h1>
        <h2>税込価格計算</h2>
    </div><!-- /.header-contents -->

    <div class="main-wrapper">
        <section>
              <div id="menu">
                <h3>商品メニュー</h3>
                <p id="output"></p>
                <p id="output2"></p>
                <p id="output3"></p>
                <br>
              </div>
              <br>
              
              <div id="buy">
                <h3>購入処理</h3>
                  <table>
                  <tr>
                    <td>コーヒーメーカー</td>
                    <td><input type="text" id="mk" size="5">台</td>
                  </tr>
                  <tr>
                    <td>コーヒーフィルター</td>
                    <td><input type="text" id="ft" size="5">個</td>
                  </tr>
                  <tr>
                    <td>コーヒー豆</td>
                    <td><input type="text" id="mame" size="5">袋</td>
                  </tr>
                  <tr>
                    <td><br>
                        <button onclick="keisan()">購入</button>
                        <button onclick="cls()">クリア</button>
                    </td>
                  </tr>
                  </table>
              </div>
        
              <p id="kekka1"></p>
              <p id="kekka2"></p>
              
              <br>
              <a href="index.html">戻る</a>
        </section>
    </div><!-- /.main-wrapper -->

    <footer>２Ｇ１（９９番）船橋太郎</footer>
    <script>

        //税込価格の計算
        var coffeemkr = 8000;
        var coffeeflt = 200;
        var cofeemame = 1000;
        document.getElementById("output").innerHTML="コーヒーメーカーの値段は"+total(coffeemkr)+"円(税込)です。";
        document.getElementById("output2").textContent="コーヒフィルターの値段は"+total(coffeeflt)+"円(税込)です。";
        document.getElementById("output3").textContent="コーヒー豆の値段は"+total(cofeemame)+"円(税込)です。";
    
    
        function total(price){
          var tax = 0.08;
          return price * (1 + tax);
        }
    
        function zeinuki(price){
          var tax = 0.08;
          return price / (1 + tax);
        }
        
     
        function keisan(){
          alert("購入金額を計算します");
          var kin = document.getElementById("mk").value * total(coffeemkr);
          kin += document.getElementById("ft").value * total(coffeeflt); 
          kin += document.getElementById("mame").value * total(cofeemame);
    
          kin = parseInt(kin);
          alert("合計=" + kin);
       
          var kin2 = zeinuki(kin);
             document.getElementById("kekka1").innerHTML="お買い上げは<b class='kei'>"+kin+"</b>円になります<br>";
          document.getElementById("kekka2").innerHTML="本体価格<b class='kei'>" 
                                                     +kin2 +"</b>円(消費税"
                                                     + (kin - kin2) +"円）";
          
        }
    
        
        function cls(){
          //alert("clear");
          document.getElementById("mk").value = "";
          document.getElementById("ft").value =""; 
          document.getElementById("mame").value ="";
        }
    </script>        
</body>
</html>
